export class BookmarketlGenerator {
  vaultName: string;
  constructor(vaultName: string) {
    this.vaultName = vaultName;
  }

  public generateBookmarklet(): string {
    return `javascript:(function()%7B!function(e)%7Bvar%20t%3D%7B%7D%3Bfunction%20n(o)%7Bif(t%5Bo%5D)return%20t%5Bo%5D.exports%3Bvar%20r%3Dt%5Bo%5D%3D%7Bi%3Ao%2Cl%3A!1%2Cexports%3A%7B%7D%7D%3Breturn%20e%5Bo%5D.call(r.exports%2Cr%2Cr.exports%2Cn)%2Cr.l%3D!0%2Cr.exports%7Dn.m%3De%2Cn.c%3Dt%2Cn.d%3Dfunction(e%2Ct%2Co)%7Bn.o(e%2Ct)%7C%7CObject.defineProperty(e%2Ct%2C%7Benumerable%3A!0%2Cget%3Ao%7D)%7D%2Cn.r%3Dfunction(e)%7B%22undefined%22!%3Dtypeof%20Symbol%26%26Symbol.toStringTag%26%26Object.defineProperty(e%2CSymbol.toStringTag%2C%7Bvalue%3A%22Module%22%7D)%2CObject.defineProperty(e%2C%22__esModule%22%2C%7Bvalue%3A!0%7D)%7D%2Cn.t%3Dfunction(e%2Ct)%7Bif(1%26t%26%26(e%3Dn(e))%2C8%26t)return%20e%3Bif(4%26t%26%26%22object%22%3D%3Dtypeof%20e%26%26e%26%26e.__esModule)return%20e%3Bvar%20o%3DObject.create(null)%3Bif(n.r(o)%2CObject.defineProperty(o%2C%22default%22%2C%7Benumerable%3A!0%2Cvalue%3Ae%7D)%2C2%26t%26%26%22string%22!%3Dtypeof%20e)for(var%20r%20in%20e)n.d(o%2Cr%2Cfunction(t)%7Breturn%20e%5Bt%5D%7D.bind(null%2Cr))%3Breturn%20o%7D%2Cn.n%3Dfunction(e)%7Bvar%20t%3De%26%26e.__esModule%3Ffunction()%7Breturn%20e.default%7D%3Afunction()%7Breturn%20e%7D%3Breturn%20n.d(t%2C%22a%22%2Ct)%2Ct%7D%2Cn.o%3Dfunction(e%2Ct)%7Breturn%20Object.prototype.hasOwnProperty.call(e%2Ct)%7D%2Cn.p%3D%22%22%2Cn(n.s%3D0)%7D(%5Bfunction(e%2Ct%2Cn)%7Bn(1)%2Ce.exports%3Dn(2)%7D%2Cfunction(e%2Ct%2Cn)%7B%22use%20strict%22%3B(e%3D%3E%7Bconst%20t%3DencodeURIComponent(%22${this.vaultName}%22)%3B!function(e%2Cn%2Co)%7Bconst%20r%3D%60obsidian%3A%2F%2Fobsidian-clipper%3Fvault%3D%24%7Bt%7D%26url%3D%24%7BencodeURIComponent(e)%7D%26title%3D%24%7BencodeURIComponent(n)%7D%26format%3Dhtml%26highlightdata%3D%24%7BencodeURIComponent(o)%7D%60%3Bdocument.location.href%3Dr%7D(document.URL%2Cdocument.title%2Cfunction()%7Blet%20e%3D%22%22%3Bif(void%200!%3D%3Dwindow.getSelection)%7Blet%20t%3Dwindow.getSelection()%3Bif(t%26%26t.rangeCount)%7Blet%20n%3Ddocument.createElement(%22div%22)%3Bfor(let%20e%3D0%2Co%3Dt.rangeCount%3Be%3Co%3B%2B%2Be)n.appendChild(t.getRangeAt(e).cloneContents())%3Be%3Dn.innerHTML%7D%7Dreturn%20e%7D())%7D)()%7D%2Cfunction(e%2Ct%2Cn)%7B%22use%20strict%22%3Bn.r(t)%2Cn.d(t%2C%22MarkdownTables%22%2C(function()%7Breturn%20r%7D))%3Bclass%20o%7Bstatic%20tableShouldBeSkipped(e)%7Breturn!e%7C%7C!e.rows%7C%7C1%3D%3D%3De.rows.length%26%26e.rows%5B0%5D.childNodes.length%3C%3D1%7C%7C!!o.nodeContainsTable(e)%7Dstatic%20isHeadingRow(e)%7Blet%20t%3De.parentNode%2Cn%3D!1%3Breturn%20t%26%26(%22THEAD%22%3D%3D%3Dt.nodeName%3Fn%3D!0%3At.firstChild!%3D%3De%3Fn%3D!1%3A(%22TABLE%22%3D%3D%3Dt.nodeName%7C%7Co.isFirstTbody(t))%26%26(n%3DArray.prototype.every.call(e.childNodes%2C(e%3D%3E%22TH%22%3D%3D%3De.nodeName))))%2Cn%7Dstatic%20isFirstTbody(e)%7Blet%20t%3De.previousSibling%2Cn%3D!1%3Breturn%20t%26%26(n%3D!(%22TBODY%22!%3D%3De.nodeName%7C%7Ct%26%26(%22THEAD%22!%3D%3Dt.nodeName%7C%7C!t.textContent%7C%7C!%2F%5E%5Cs*%24%2Fi.test(t.textContent))))%2Cn%7Dstatic%20cell(e%2Ct%3Dnull%2Cn%3Dnull)%7Bnull%3D%3D%3Dn%26%26null!%3Dt%26%26t.parentNode%26%26(n%3DArray.prototype.indexOf.call(t.parentNode.childNodes%2Ct))%3Blet%20r%3D%22%20%22%3B0%3D%3D%3Dn%26%26(r%3D%22%7C%20%22)%3Blet%20l%3De.trim().replace(%2F%5Cn%5Cr%2Fg%2C%22%3Cbr%3E%22).replace(%2F%5Cn%2Fg%2C%22%3Cbr%3E%22)%3Bfor(l%3Dl.replace(%2F%5C%7C%2B%2Fg%2C%22%5C%5C%7C%22)%3Bl.length%3C3%3B)l%2B%3D%22%20%22%3Breturn%20t%26%26(l%3Do.handleColSpan(l%2Ct%2C%22%20%22))%2Cr%2Bl%2B%22%20%7C%22%7Dstatic%20nodeContainsTable(e)%7Bif(!e.childNodes)return!1%3Bfor(let%20t%3D0%3Bt%3Ce.childNodes.length%3Bt%2B%2B)%7Bconst%20n%3De.childNodes%5Bt%5D%3Bif(%22TABLE%22%3D%3D%3Dn.nodeName)return!0%3Bif(o.nodeContainsTable(n))return!0%7Dreturn!1%7Dstatic%20nodeParentTable(e)%7Blet%20t%3De.parentNode%3Bif(t)for(%3Bt%26%26%22TABLE%22!%3D%3Dt.nodeName%3B)t%3Dt.parentNode%3Breturn%20t%7Dstatic%20handleColSpan(e%2Ct%2Cn)%7Bconst%20o%3Dt.getAttribute(%22colspan%22)%7C%7C1%3Bfor(let%20t%3D1%3Bt%3Co%3Bt%2B%2B)e%2B%3D%22%20%7C%20%22%2Bn.repeat(3)%3Breturn%20e%7Dstatic%20tableColCount(e)%7Blet%20t%3D0%3Bif(e%26%26e.rows)for(let%20n%3D0%3Bn%3Ce.rows.length%3Bn%2B%2B)%7Bconst%20o%3De.rows%5Bn%5D.childNodes.length%3Bo%3Et%26%26(t%3Do)%7Dreturn%20t%7D%7Dclass%20r%7Btables(e)%7Be.keep((function(e)%7Blet%20t%3D!1%3Breturn%20e.nodeName%26%26(t%3D%22TABLE%22%3D%3D%3De.nodeName)%2Ct%7D))%3Blet%20t%2Cn%3D%7BtableCell%3A%7Bfilter%3A%5B%22th%22%2C%22td%22%5D%2Creplacement%3Afunction(e%2Ct)%7Breturn%20o.tableShouldBeSkipped(o.nodeParentTable(t))%3Fe%3Ao.cell(e%2Ct)%7D%7D%2CtableRow%3A%7Bfilter%3A%22tr%22%2Creplacement%3Afunction(e%2Ct)%7Bconst%20n%3Do.nodeParentTable(t)%3Bif(o.tableShouldBeSkipped(n))return%20e%3Blet%20r%3D%22%22%2Cl%3D%7Bleft%3A%22%3A--%22%2Cright%3A%22--%3A%22%2Ccenter%3A%22%3A-%3A%22%7D%3Bif(o.isHeadingRow(t))%7Bconst%20e%3Do.tableColCount(n)%3Bfor(let%20n%3D0%3Bn%3Ce%3Bn%2B%2B)%7Bconst%20i%3De%3E%3Dt.childNodes.length%3Fnull%3At.childNodes%5Bn%5D%3Blet%20a%3D%22---%22%2Cd%3Di%3F(i.getAttribute(%22align%22)%7C%7C%22%22).toLowerCase()%3A%22%22%3Bd%26%26(a%3Dl%5Bd%5D%7C%7Ca)%2Cr%2B%3Di%3Fo.cell(a%2Ct.childNodes%5Bn%5D)%3Ao.cell(a%2Cnull%2Cn)%7D%7Dreturn%22%5Cn%22%2Be%2B(r%3F%22%5Cn%22%2Br%3A%22%22)%7D%7D%2Ctable%3A%7Bfilter%3Afunction(e)%7Breturn%22TABLE%22%3D%3D%3De.nodeName%7D%2Creplacement%3Afunction(e%2Ct)%7Bif(o.tableShouldBeSkipped(t))return%20e%3Blet%20n%3D(e%3De.replace(%2F%5Cn%2B%2Fg%2C%22%5Cn%22)).trim().split(%22%5Cn%22)%3Bn.length%3E%3D2%26%26(n%3Dn%5B1%5D)%3Blet%20r%3D0%3D%3D%3Dn.indexOf(%22%7C%20---%22)%2Cl%3Do.tableColCount(t)%2Ci%3D%22%22%3Breturn%20l%26%26!r%26%26(i%3D%22%7C%22%2B%22%20%20%20%20%20%7C%22.repeat(l)%2B%22%5Cn%7C%22%2B%22%20---%20%7C%22.repeat(l))%2C%22%5Cn%5Cn%22%2Bi%2Be%2B%22%5Cn%5Cn%22%7D%7D%2CtableSection%3A%7Bfilter%3A%5B%22thead%22%2C%22tbody%22%2C%22tfoot%22%5D%2Creplacement%3Afunction(e)%7Breturn%20e%7D%7D%7D%3Bfor(t%20in%20n)e.addRule(t%2Cn%5Bt%5D)%7D%7D%7D%5D)%3B%7D)()`;
  }
}
